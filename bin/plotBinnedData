#!/usr/bin/env python

import time;
import argparse;
import kaic.plotting.plotHeatMap as phm

def splitList(thisList):
    return thisList.split(",");


if __name__ == '__main__':
    parser = argparse.ArgumentParser();
    
    parser.add_argument(
        'input',
        help='''Input Hi-C Map file (hdf5 dict)'''
    );
    
    parser.add_argument(
        'genome',
        help='''Genome object file'''
    );
    
    parser.add_argument(
        '-res', '--resolution', dest='resolution',
        type=int,
        help='''Cutoff for filtering very large fragments''',
        required=True
    );
    
    parser.add_argument(
        '-o', '--order', dest='order',
        type=splitList,
        default=None,
        help='''comma-separated list of chromosome names for heatmap order'''
    );
    
    parser.add_argument(
        '-min', dest='min',
        type=int,
        default=-3,
        help='''Lower plotting boundary'''
    );
    
    parser.add_argument(
        '-max', dest='max',
        type=int,
        default=3,
        help='''Upper plotting boundary'''
    );
    
    parser.add_argument(
        '-a', '--absolute', dest='absolute',
        action='store_true',
        help='''Plot absolute values instead of log2-fold enrichment over expectation'''
    );
    
    parser.add_argument(
        '-c', '--color-map', dest='colormap',
        default='YlGnBu',
        help='''Matplotlib color map name to use'''
    );
    
    parser.set_defaults(absolute=False);
    
    phm.main(parser.parse_args());