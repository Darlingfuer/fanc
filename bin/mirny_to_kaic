#!/usr/bin/env python

'''
Created on Oct 1, 2015

@author: kkruse1
'''

import argparse
from kaic.tools.hic import load_mirny_binned_hic
from kaic.data.genomic import HicBasic
import os.path

if __name__ == '__main__':
    parser = argparse.ArgumentParser();
    
    parser.add_argument(
        'hic',
        help='''Mirny Hi-C object'''
    )
    
    parser.add_argument(
        'genome',
        help='''Mirny genome object'''
    )
    
    parser.add_argument(
        'output',
        help='''Output file'''
    )
    
    parser.add_argument(
        'resolution',
        type=int,
        help='''Resolution of the file (e.g. 100000)'''
    )
    

    args = parser.parse_args()

    mirny = load_mirny_binned_hic(os.path.expanduser(args.hic), os.path.expanduser(args.genome), args.resolution)
    hic = HicBasic.from_hiclib(mirny, file_name=os.path.expanduser(args.output))
    hic.close()