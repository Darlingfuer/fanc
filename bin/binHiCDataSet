#!/usr/bin/env python

import time;
import argparse;
import kaic.binning.hicHeatMap as binning

if __name__ == '__main__':
    parser = argparse.ArgumentParser();
    
    parser.add_argument(
        'input',
        help='''Input Hi-C Map file (hdf5 dict)'''
    );
    
    parser.add_argument(
        'genome',
        help='''Genome object file'''
    );
    
    parser.add_argument(
        'output',
        help='''Output file'''
    );
    
    parser.add_argument(
        '-res', '--resolution', dest='resolution',
        type=int,
        help='''Cutoff for filtering very large fragments''',
        required=True
    );
    
    parser.add_argument(
        '-w', '--whole', dest='byChromosome',
        action='store_false',
        help='''Store the heatmap as a whole rather than by chromosome (not recommended for hi-res analysis)'''
    );
    
    
    parser.set_defaults(byChromosome=True);
    
    binning.main(parser.parse_args());